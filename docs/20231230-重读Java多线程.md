# 重读Java多线程-draft
在上半年我完成了《Java并发编程的艺术》的学习, 尽管一直没有写博客总结. 在这篇文章中, 我将挑战用一篇横扫的方式, 探讨Java多线程中我们必须了解的基础知识. 然而, 需要强调的是, 理解基础原理只是解锁多线程编程的大门, 而实际编写代码时, 更需要结合具体场景避免陷阱. 基础知识为我们规避那些因对多线程理解不足而导致的代码问题提供了支持, 但优化代码的过程需要深入实际应用. 

## 多线程有什么用
多线程这个概念在接触操作系统的时候就会遇到, 让我们有能力使程序在同一时间执行多个任务, 从而节省整体任务的执行时间, 更高效地利用计算机的性能. 但某些情况多线程并发执行并不一定会显著提高执行效率:
1. 一个简单任务, 如果开多个线程执行, 效率会低于串行执行, 因为线程切换上下文会带来额外的消耗
2. 软硬件的资源限制. 带宽有限, 开再多的线程也无法使下载速度突破带宽的物理限制. 或者CPU利用率已经很高了, 开多线程反而会加重CPU的负载, 使任务执行更慢.

在开始学习Java多线程的原理之前, 我还想阐述一点: 这里的多线程都是针对JVM这个维度的, 而不是操作系统维度. 操作系统本身会有自己的线程/进程管理调度, 诸如时间片轮转/短作业优先, CPU也会有物理核心和逻辑核心. 而JVM屏蔽了这些细节, 我们要关心的主要还是Java自身的线程状态, 配置线程池时, 也不能仅仅根据机器的CPU核心数来设置, 需要实际测试不同线程池状态下的性能才是正解.

## Java的线程

## JMM

## 锁
volatile
Java锁

## 参考
1. Java并发编程的艺术
2. [Java threads and number of cores](https://stackoverflow.com/questions/34689709/java-threads-and-number-of-cores)